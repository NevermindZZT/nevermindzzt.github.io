#vcomment.vcomment
script(src=url_for(theme.CDN.valine))
script.
  var GUEST_INFO = ['nick','mail','link'];
  var guest_info = '#{ theme.valine.guest_info }'.split(',').filter(function(item){
    return GUEST_INFO.indexOf(item) > -1
  });
  guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

  window.valine = new Valine({
    el:'#vcomment',
    notify: #{theme.valine.notify},
    verify: #{theme.valine.verify},
    appId: '#{theme.valine.appId}',
    appKey: '#{theme.valine.appKey}',
    placeholder: '#{theme.valine.placeholder}',
    avatar: '#{theme.valine.avatar}',
    meta: guest_info,
    pageSize: '#{theme.valine.pageSize}',
    lang: '#{theme.valine.lang}',
    recordIP: #{theme.valine.recordIP},
    serverURLs: '#{theme.valine.serverURLs}'
  });
